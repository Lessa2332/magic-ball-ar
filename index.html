

<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR-Місяць Магія</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; overflow: hidden; background: transparent; font-family: Arial, sans-serif; }
        #welcome { position: absolute; top: 20%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10; background: transparent; }
        #welcome h1 { font-size: 2em; color: #FFD700; opacity: 0.9; }
        #nameInput { padding: 10px; border: 2px solid #00BFFF; border-radius: 5px; margin: 10px 0; background: transparent; color: #FFD700; }
        #startBtn, #retryBtn, #exitBtn { background: rgba(255, 215, 0, 0.8); color: #00BFFF; border: none; padding: 15px 30px; font-size: 1.2em; border-radius: 5px; cursor: pointer; opacity: 0.9; }
        #exitBtn { position: absolute; bottom: 20px; left: 20px; display: none; z-index: 10; }
        #retryBtn { position: absolute; bottom: 20px; right: 20px; display: none; z-index: 10; }
        #arScene { display: none; }
        #scanText { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); color: #FFD700; font-size: 1.5em; opacity: 0.8; display: none; z-index: 10; }
        #wishText { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #00BFFF; font-size: 1.8em; text-align: center; background: rgba(255, 255, 255, 0.3); padding: 20px; border-radius: 10px; display: none; z-index: 10; animation: fadeIn 1s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>
    <div id="welcome">
        <h1>Привіт, друже!</h1>
        <input id="nameInput" type="text" placeholder="Введи своє ім'я">
        <button id="startBtn">Розпочати магію</button>
    </div>
    <div id="scanText">Наведи на картку</div>
    <div id="wishText"></div>
    <a-scene id="arScene" embedded arjs="sourceType: webcam; detectionMode: mono; trackingMethod: best;">
        <a-marker id="marker" type="pattern" url="marker.patt">
            <!-- Placeholder для твоєї 3D-моделі: заміни на <a-gltf-model src="твоя_модель.gltf" scale="0.5 0.5 0.5" animation="property: rotation; to: 0 360 0; loop: true; dur: 5000"></a-gltf-model> -->
            <a-box position="0 0.5 0" material="color: #FFD700;" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"></a-box>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
    <button id="exitBtn">Вийти</button>
    <button id="retryBtn">Спробувати ще раз</button>

    <script>
        const welcome = document.getElementById('welcome');
        const arScene = document.getElementById('arScene');
        const scanText = document.getElementById('scanText');
        const wishText = document.getElementById('wishText');
        const exitBtn = document.getElementById('exitBtn');
        const retryBtn = document.getElementById('retryBtn');
        const startBtn = document.getElementById('startBtn');
        const nameInput = document.getElementById('nameInput');
        const marker = document.getElementById('marker');

        let name = '';
        const wishes = [
            'Бажаю успіхів у навчанні та нових відкриттів!',
            'Нехай кожен день приносить радість і друзів!',
            'Здоров\'я, щастя та море посмішок!',
            'Удачі в усіх починаннях та яскравих пригод!',
            'Нехай мрії здійснюються легко та швидко!',
            'Бажаю натхнення та творчих ідей!',
            'Сили, енергії та перемог у всьому!',
            'Нових знань та цікавих уроків!',
            'Щасливих моментів з рідними та друзями!',
            'Бажаю миру, добра та сонячних днів!',
            'Успішного року та багато досягнень!',
            'Нехай все задумане вдається!',
            'Радості від кожного дня в школі!',
            'Бажаю креативності та веселощів!',
            'Сміливості, впевненості та успіху!'
        ];

        function generateWish() {
            const randomIndex = Math.floor(Math.random() * wishes.length);
            wishText.innerText = `${name}! ${wishes[randomIndex]}`;
            wishText.style.display = 'block';
            retryBtn.style.display = 'block';
        }

        startBtn.addEventListener('click', () => {
            name = nameInput.value || 'Друже';
            welcome.style.display = 'none';
            arScene.style.display = 'block';
            scanText.style.display = 'block';
            exitBtn.style.display = 'block';
        });

        marker.addEventListener('markerFound', () => {
            generateWish();
            scanText.style.display = 'none'; // Ховаємо підказку після виявлення
        });

        marker.addEventListener('markerLost', () => {
            wishText.style.display = 'none';
            retryBtn.style.display = 'none';
            scanText.style.display = 'block'; // Показуємо підказку знову
        });

        retryBtn.addEventListener('click', generateWish);

        exitBtn.addEventListener('click', () => {
            welcome.style.display = 'block';
            arScene.style.display = 'none';
            scanText.style.display = 'none';
            wishText.style.display = 'none';
            exitBtn.style.display = 'none';
            retryBtn.style.display = 'none';
        });
    </script>
</body>
</html>
