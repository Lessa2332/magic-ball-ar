 <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Magic Ball</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; font-family: Arial, sans-serif; }
        #nameInput { position: absolute; top: 10px; left: 10px; padding: 5px; }
        #magicButton { position: absolute; top: 40px; left: 10px; padding: 5px; }
        #tryAgain { position: absolute; bottom: 10px; right: 10px; padding: 5px; }
        #smartLessa { position: absolute; bottom: 10px; right: 10px; padding: 5px; color: #00f; }
    </style>
</head>
<body>
    <a-scene embedded arjs>
        <a-marker type="pattern" url="targets.mind">
            <a-plane position="0 0 0" rotation="-90 0 0" width="1" height="1" color="transparent" opacity="0.5"></a-plane>
            <a-entity id="ball" visible="false" geometry="primitive: sphere; radius: 0.3" material="color: #00f; opacity: 0.7" position="0 0 0">
                <a-animation attribute="scale" from="1 1 1" to="1.2 1.2 1.2" dur="1000" direction="alternate" repeat="indefinite"></a-animation>
                <a-animation attribute="material.color" from="#00f" to="#ff0" dur="1000" direction="alternate" repeat="indefinite"></a-animation>
                <a-text value="" align="center" position="0 0 0" scale="0.5 0.5 0.5"></a-text>
            </a-entity>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
    <input type="text" id="nameInput" placeholder="Введи своє ім'я">
    <button id="magicButton">Магія</button>
    <button id="tryAgain" style="display:none;">Спробувати ще раз</button>
    <div id="smartLessa">@SmartLessa</div>
    <audio id="magicSound" src="magic.mp3"></audio>

    <script>
        const wishes = [
            "Бажаю тобі багато сміху!",
            "Нехай твої мрії збуваються!",
            "Ти найкращий друг!",
            "Нехай кожен день буде радісним!",
            "Бажаю тобі здоров’я!",
            "Ти дуже талановитий!",
            "Нехай усе вдається!",
            "Ти світло для всіх навколо!",
            "Бажаю тобі пригод!",
            "Ти завжди в моєму серці!",
            "Нехай сонце завжди світить для тебе!",
            "Ти маєш велике майбутнє!",
            "Бажаю тобі щастя щодня!",
            "Ти найкращий у світі!",
            "Нехай твоя усмішка ніколи не зникає!"
        ];

        document.getElementById('magicButton').addEventListener('click', () => {
            const name = document.getElementById('nameInput').value;
            if (name) {
                document.getElementById('magicSound').play();
                const ball = document.getElementById('ball');
                ball.setAttribute('visible', true);
                const randomWish = wishes[Math.floor(Math.random() * wishes.length)];
                ball.querySelector('a-text').setAttribute('value', randomWish);
                document.getElementById('magicButton').style.display = 'none';
                document.getElementById('nameInput').style.display = 'none';
                document.getElementById('tryAgain').style.display = 'block';
            }
        });

        document.getElementById('tryAgain').addEventListener('click', () => {
            document.getElementById('ball').setAttribute('visible', false);
            document.getElementById('magicButton').style.display = 'block';
            document.getElementById('nameInput').style.display = 'block';
            document.getElementById('tryAgain').style.display = 'none';
            document.getElementById('nameInput').value = '';
        });
    </script>
</body>
</html>
